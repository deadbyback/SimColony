#version 450 core

// Входные атрибуты вершин
layout (location = 0) in vec3 aPos;    // Позиция вершины в 3D пространстве
layout (location = 1) in vec2 aTexCoord; // Текстурные координаты

// Выходные данные для фрагментного шейдера
out vec2 TexCoord;

// Uniform-переменные для трансформации
uniform mat4 model;      // Матрица модели (положение, поворот и масштаб объекта)
uniform mat4 view;       // Матрица вида (положение и ориентация камеры)
uniform mat4 projection; // Матрица проекции (как 3D преобразуется в 2D)

void main() {
    // Вычисляем итоговую позицию вершины
    // Умножение матриц происходит справа налево:
    // 1. Сначала применяется трансформация модели
    // 2. Затем трансформация вида (камеры)
    // 3. И наконец проекция
    gl_Position = projection * view * model * vec4(aPos, 1.0);
    
    // Передаём текстурные координаты фрагментному шейдеру
    TexCoord = aTexCoord;
}